{"version":3,"sources":["routes/route.js"],"names":["express","require","router","Router","dealRes","dealError","Route","Component","initRouteTree","ary","pid","res","i","length","target","toObject","_id","parent_id","splice","children","push","filterComponentIds","baseVal","baseIds","ids","com_id","indexOf","concat","findTarget","key","keyValue","equals","turnTreeToComtree","tree","comList","console","log","component","Error","get","req","sid","params","find","exec","then","data","routeTree","catch","e","post","body","type","create","resData","findByIdAndUpdate","pages","route_id","path","data2","findById","lean","template","$in","result","temp","baseValue","module","exports"],"mappings":"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","file":"route.js","sourceRoot":"../../src"}