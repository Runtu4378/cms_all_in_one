# cms 设计笔记

## 抽象概念

### 站点

一个网站（根域名），这个网站一般是多路由网页系统，

#### 站点属性

- 站点属性
  - 域名
  - 站点类型
  - 站点名等
- 路由列表
- 参数池
- 资源文件
- 环境配置

### 路由

网站的某个路由（路由规则，如 /news, /newDetail/:id等）
这个路由应用同一个页面模板（或者多页路由会默认创建一个子路由）

路由保存该路由的页面模板应用的数据

#### 路由类型

- 单页路由：页面模板和数据一一对应
- 多页路由：一个页面模板生成多个页面（数据结构是一对多的）

### 页面模板

多个组件模板组成的一个逻辑实体，负责处理组件的输出结构、参数传递

### 组件模板

接受参数，生成 html、js、css 三种字符的实体

主要处理上述三种源码的语法转换和参数注入

组件模板只保存所接收参数的规则，不保存参数的实际值

<!-- ***

## 实体结构

- 站点
  - 数据池
  - 路由
    - 数据池
    - 数据脚本
    - 页面模板
      - 页面 -->

***

## 路由施工逻辑

- 设计页面模板
- 根据页面模板生成所需数据结构（参数树）
- 根据路由类型生成页面规则（一（路由）对一（页面），或者一对多）
- 设计数据脚本（提取同站点下哪些路由的数据池、站点的哪些数据到本路由，生成该路由的数据表单）
- 结合页面模板和数据表单进行测试
- 封板

<!-- ***

## 生命周期

```flow
st=>start: start
en=>end: end
createSite=>operation: 创建站点
createRoute=>operation: 创建栏目
createtemp=>operation: 创建页面模板
createDatascript=>operation: 创建数据脚本

st->createSite->createRoute->createtemp->createDatascript->en
``` -->
